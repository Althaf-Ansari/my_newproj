(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(29)},20:function(e,t,a){},25:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(6),c=a.n(r),o=(a(20),a(23),a(25),a(9)),s=a(0),i=a(3);function m(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],m=o[1];return l.a.createElement("div",{className:"auth-wrapper"},l.a.createElement("div",{className:"auth-inner"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(a,s),fetch("http://localhost:3000/login-user",{method:"POST",crossDomain:!0,headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({email:a,password:s})}).then(function(e){return e.json()}).then(function(e){console.log(e,"userRegister"),"ok"==e.status&&(alert("login successful"),window.localStorage.setItem("token",e.data),window.localStorage.setItem("loggedIn",!0),window.location.href="./userDetails")})}},l.a.createElement("h3",null,"Sign In"),l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",null,"Email address"),l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:function(e){return m(e.target.value)}})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember me"))),l.a.createElement("div",{className:"d-grid"},l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),l.a.createElement("p",{className:"forgot-password text-right"},l.a.createElement("a",{href:"/sign-up"},"Sign Up")))))}function u(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],m=o[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),d=p[0],g=p[1],h=Object(n.useState)(""),E=Object(i.a)(h,2),f=E[0],b=E[1],v=Object(n.useState)(""),w=Object(i.a)(v,2),N=w[0],y=w[1],j=Object(n.useState)(""),O=Object(i.a)(j,2),S=O[0],C=O[1];return l.a.createElement("div",{className:"auth-wrapper"},l.a.createElement("div",{className:"auth-inner"},l.a.createElement("form",{onSubmit:function(e){"Admin"==N&&"AdarshT"!=S?(e.preventDefault(),alert("Invalid Admin")):(e.preventDefault(),console.log(a,s,d,f),fetch("http://localhost:3000/register",{method:"POST",crossDomain:!0,headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({fname:a,email:d,lname:s,password:f,userType:N})}).then(function(e){return e.json()}).then(function(e){console.log(e,"userRegister"),"ok"==e.status?alert("Registration Successful"):alert("Something went wrong")}))}},l.a.createElement("h3",null,"Sign Up"),l.a.createElement("div",null,"Register As",l.a.createElement("input",{type:"radio",name:"UserType",value:"User",onChange:function(e){return y(e.target.value)}}),"User",l.a.createElement("input",{type:"radio",name:"UserType",value:"Admin",onChange:function(e){return y(e.target.value)}}),"Admin"),"Admin"==N?l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",null,"Secret Key"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Secret Key",onChange:function(e){return C(e.target.value)}})):null,l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",null,"First name"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"First name",onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",null,"Last name"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last name",onChange:function(e){return m(e.target.value)}})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",null,"Email address"),l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(e){return g(e.target.value)}})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:function(e){return b(e.target.value)}})),l.a.createElement("div",{className:"d-grid"},l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign Up")),l.a.createElement("p",{className:"forgot-password text-right"},"Already registered ",l.a.createElement("a",{href:"/sign-in"},"sign in?")))))}var p=a(8),d=a(10),g=a(7),h=a.n(g);function E(e){e.userData;var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(5),s=Object(i.a)(o,2),m=s[0],u=s[1],g=Object(n.useState)(1),E=Object(i.a)(g,2),f=E[0],b=E[1],v=Object(n.useRef)();Object(n.useEffect)(function(){v.current=1,N()},[]);var w=function(e,t){window.confirm("Are you sure you want to delete ".concat(t))&&fetch("http://localhost:5000/deleteUser",{method:"POST",crossDomain:!0,headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({userid:e})}).then(function(e){return e.json()}).then(function(e){alert(e.data),fetch("http://localhost:5000/getAllUser",{method:"GET"}).then(function(e){return e.json()}).then(function(e){console.log(e,"userData"),c(e.data)})})};function N(){fetch("http://localhost:5000/paginatedUsers?page=".concat(v.current,"&limit=").concat(m),{method:"GET"}).then(function(e){return e.json()}).then(function(e){console.log(e,"userData"),b(e.pageCount),c(e.result)})}return l.a.createElement("div",{className:"auth-wrapper",style:{height:"auto"}},l.a.createElement("div",{className:"auth-inner",style:{width:"auto"}},l.a.createElement("h3",null,"Welcom Admin"),l.a.createElement("table",{style:{width:500}},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"User Type"),l.a.createElement("th",null,"Delete")),r.map(function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.fname),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.userType),l.a.createElement("td",null,l.a.createElement(d.a,{icon:p.a,onClick:function(){return w(e._id,e.fname)}})))})),l.a.createElement(h.a,{breakLabel:"...",nextLabel:"next >",onPageChange:function(e){console.log(e),v.current=e.selected+1,N()},pageRangeDisplayed:5,pageCount:f,previousLabel:"< previous",renderOnZeroPageCount:null,marginPagesDisplayed:2,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active",forcePage:v.current-1}),l.a.createElement("input",{placeholder:"Limit",onChange:function(e){return u(e.target.value)}}),l.a.createElement("button",{onClick:function(){v.current=1,N()}},"Set Limit"),l.a.createElement("button",{onClick:function(){window.localStorage.clear(),window.location.href="./sign-in"},className:"btn btn-primary"},"Log Out")))}function f(e){var t=e.userData;return l.a.createElement("div",{className:"auth-wrapper"},l.a.createElement("div",{className:"auth-inner"},l.a.createElement("div",null,"Name",l.a.createElement("h1",null,t.fname),"Email ",l.a.createElement("h1",null,t.email),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){window.localStorage.clear(),window.location.href="./sign-in"},className:"btn btn-primary"},"Log Out"))))}function b(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],m=o[1];return Object(n.useEffect)(function(){fetch("http://localhost:5000/userData",{method:"POST",crossDomain:!0,headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({token:window.localStorage.getItem("token")})}).then(function(e){return e.json()}).then(function(e){console.log(e,"userData"),"Admin"==e.data.userType&&m(!0),r(e.data),"token expired"==e.data&&(alert("Token expired login again"),window.localStorage.clear(),window.location.href="./sign-in")})},[]),s?l.a.createElement(E,null):l.a.createElement(f,{userData:a})}var v=function(){var e=window.localStorage.getItem("loggedIn");return l.a.createElement(o.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",element:"true"==e?l.a.createElement(b,null):l.a.createElement(m,null)}),l.a.createElement(s.a,{path:"/sign-in",element:l.a.createElement(m,null)}),l.a.createElement(s.a,{path:"/sign-up",element:l.a.createElement(u,null)}),l.a.createElement(s.a,{path:"/userDetails",element:l.a.createElement(b,null)}))))},w=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,30)).then(function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(v,null)),w()}},[[11,3,2]]]);
//# sourceMappingURL=main.b2084380.chunk.js.map